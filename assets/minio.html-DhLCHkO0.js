import{_ as n,c as a,e,o as i}from"./app-BfRTX_48.js";const l={};function p(t,s){return i(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="minio" tabindex="-1"><a class="header-anchor" href="#minio"><span>MinIO</span></a></h1><p><a href="https://min.io/docs/minio/linux/operations/installation.html" target="_blank" rel="noopener noreferrer">Install and Deploy MinIO</a></p><h2 id="deploy-minio-single-node-single-drive" tabindex="-1"><a class="header-anchor" href="#deploy-minio-single-node-single-drive"><span>Deploy MinIO: Single-Node Single-Drive</span></a></h2><p><a href="https://min.io/docs/minio/linux/operations/install-deploy-manage/deploy-minio-single-node-single-drive.html" target="_blank" rel="noopener noreferrer">Deploy MinIO: Single-Node Single-Drive</a></p><h3 id="download-the-minio-server" tabindex="-1"><a class="header-anchor" href="#download-the-minio-server"><span>Download the MinIO Server</span></a></h3><p><a href="https://min.io/download" target="_blank" rel="noopener noreferrer">MinIO Download</a></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">wget</span> https://dl.min.io/server/minio/release/linux-amd64/minio_20240501011110.0.0_amd64.deb</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> dpkg <span class="token parameter variable">-i</span> minio_20240501011110.0.0_amd64.deb</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">lsblk</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">fdisk</span> <span class="token parameter variable">-l</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> mkfs.xfs /dev/sdb <span class="token parameter variable">-L</span> DISK1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">mkdir</span> /mnt/disk1 </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">mount</span> /dev/sdb /mnt/disk1 </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/fstab</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line"># &lt;file system&gt;  &lt;mount point&gt;  &lt;type&gt;  &lt;options&gt;         &lt;dump&gt;  &lt;pass&gt;</span>
<span class="line">LABEL=DISK1      /mnt/disk1     xfs     defaults,noatime  0       2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">df</span> <span class="token parameter variable">-h</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="add-user-and-group-for-minio" tabindex="-1"><a class="header-anchor" href="#add-user-and-group-for-minio"><span>Add User and Group for MinIO</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">groupadd</span> <span class="token parameter variable">-r</span> minio-user</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">useradd</span> <span class="token parameter variable">-M</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">-g</span> minio-user minio-user</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">chown</span> minio-user:minio-user /mnt/disk1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="create-the-environment-variable-file" tabindex="-1"><a class="header-anchor" href="#create-the-environment-variable-file"><span>Create the Environment Variable File</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/default/minio</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-ini line-numbers-mode" data-highlighter="prismjs" data-ext="ini"><pre><code class="language-ini"><span class="line"><span class="token comment"># MINIO_ROOT_USER and MINIO_ROOT_PASSWORD sets the root account for the MinIO server.</span></span>
<span class="line"><span class="token comment"># This user has unrestricted permissions to perform S3 and administrative API operations on any resource in the deployment.</span></span>
<span class="line"><span class="token comment"># Omit to use the default values &#39;minioadmin:minioadmin&#39;.</span></span>
<span class="line"><span class="token comment"># MinIO recommends setting non-default values as a best practice, regardless of environment</span></span>
<span class="line"></span>
<span class="line"><span class="token key attr-name">MINIO_ROOT_USER</span><span class="token punctuation">=</span><span class="token value attr-value">myminioadmin</span></span>
<span class="line"><span class="token key attr-name">MINIO_ROOT_PASSWORD</span><span class="token punctuation">=</span><span class="token value attr-value">minio-secret-key-change-me</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># MINIO_VOLUMES sets the storage volume or path to use for the MinIO server.</span></span>
<span class="line"></span>
<span class="line"><span class="token key attr-name">MINIO_VOLUMES</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">/mnt/disk1</span>&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># MINIO_OPTS sets any additional commandline options to pass to the MinIO server.</span></span>
<span class="line"><span class="token comment"># For example, \`--console-address :9001\` sets the MinIO Console listen port</span></span>
<span class="line"><span class="token key attr-name">MINIO_OPTS</span><span class="token punctuation">=</span><span class="token value attr-value">&quot;<span class="token inner-value">--console-address :9001</span>&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># MINIO_SERVER_URL sets the hostname of the local machine for use with the MinIO Server</span></span>
<span class="line"><span class="token comment"># MinIO assumes your network control plane can correctly resolve this hostname to the local machine</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Uncomment the following line and replace the value with the correct hostname for the local machine and port for the MinIO server (9000 by default).</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">#MINIO_SERVER_URL=&quot;http://minio.example.net:9000&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token key attr-name">MINIO_BROWSER_REDIRECT</span><span class="token punctuation">=</span><span class="token value attr-value">false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="start-the-minio-service" tabindex="-1"><a class="header-anchor" href="#start-the-minio-service"><span>Start the MinIO Service</span></a></h3><p>Issue the following command on the local host to start the MinIO deployment as a service:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> systemctl start minio.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Use the following commands to confirm the service is online and functional:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> systemctl status minio.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The MinIO service does not automatically start on host reboot. You must use <code>systemctl enable minio.service</code> to start the process as part of the host boot.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> minio.service</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="configure-nginx-proxy-for-minio-server" tabindex="-1"><a class="header-anchor" href="#configure-nginx-proxy-for-minio-server"><span>Configure NGINX Proxy for MinIO Server</span></a></h2><p><a href="https://min.io/docs/minio/linux/integrations/setup-nginx-proxy-with-minio.html" target="_blank" rel="noopener noreferrer">Configure NGINX Proxy for MinIO Server</a></p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">sudo</span> <span class="token function">nano</span> /etc/nginx/conf.d/minio.conf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="dedicated-dns" tabindex="-1"><a class="header-anchor" href="#dedicated-dns"><span>Dedicated DNS</span></a></h3><div class="language-nginx line-numbers-mode" data-highlighter="prismjs" data-ext="nginx"><pre><code class="language-nginx"><span class="line"><span class="token directive"><span class="token keyword">upstream</span> minio_s3</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">least_conn</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">server</span> 127.0.0.1:9000</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token directive"><span class="token keyword">upstream</span> minio_console</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">least_conn</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">server</span> 127.0.0.1:9001</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">listen</span>       <span class="token number">80</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">listen</span>  [::]:80</span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">server_name</span>  minio.example.net</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">   <span class="token comment"># Allow special characters in headers</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">ignore_invalid_headers</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token comment"># Allow any size file to be uploaded.</span></span>
<span class="line">   <span class="token comment"># Set to a value such as 1000m; to restrict file size to a specific value</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">client_max_body_size</span> <span class="token number">0</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token comment"># Disable buffering</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">proxy_buffering</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">proxy_request_buffering</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">   <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> Host <span class="token variable">$http_host</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Real-IP <span class="token variable">$remote_addr</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Forwarded-Proto <span class="token variable">$scheme</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_connect_timeout</span> <span class="token number">300</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token comment"># Default is HTTP/1, keepalive is only enabled in HTTP/1.1</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_http_version</span> 1.1</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> Connection <span class="token string">&quot;&quot;</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">chunked_transfer_encoding</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_pass</span> https://minio_s3</span><span class="token punctuation">;</span> <span class="token comment"># This uses the upstream directive definition to load balance</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">   <span class="token directive"><span class="token keyword">location</span> /minio/ui/</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">rewrite</span> ^/minio/ui/(.*) /<span class="token variable">$1</span> break</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> Host <span class="token variable">$http_host</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Real-IP <span class="token variable">$remote_addr</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Forwarded-Proto <span class="token variable">$scheme</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-NginX-Proxy true</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token comment"># This is necessary to pass the correct IP to be hashed</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">real_ip_header</span> X-Real-IP</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_connect_timeout</span> <span class="token number">300</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token comment"># To support websockets in MinIO versions released after January 2023</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_http_version</span> 1.1</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> Upgrade <span class="token variable">$http_upgrade</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> Connection <span class="token string">&quot;upgrade&quot;</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token comment"># Some environments may encounter CORS errors (Kubernetes + Nginx Ingress)</span></span>
<span class="line">      <span class="token comment"># Uncomment the following line to set the Origin request to an empty string</span></span>
<span class="line">      <span class="token comment"># proxy_set_header Origin &#39;&#39;;</span></span>
<span class="line"></span>
<span class="line">      <span class="token directive"><span class="token keyword">chunked_transfer_encoding</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_pass</span> https://minio_console</span><span class="token punctuation">;</span> <span class="token comment"># This uses the upstream directive definition to load balance</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="subdomain" tabindex="-1"><a class="header-anchor" href="#subdomain"><span>Subdomain</span></a></h3><div class="language-nginx line-numbers-mode" data-highlighter="prismjs" data-ext="nginx"><pre><code class="language-nginx"><span class="line"><span class="token directive"><span class="token keyword">upstream</span> minio_s3</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">least_conn</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">server</span> 127.0.0.1:9000</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token directive"><span class="token keyword">upstream</span> minio_console</span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">least_conn</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">server</span> 127.0.0.1:9001</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">listen</span>       <span class="token number">80</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">listen</span>  [::]:80</span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">server_name</span>  minio.example.net</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">   <span class="token comment"># Allow special characters in headers</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">ignore_invalid_headers</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token comment"># Allow any size file to be uploaded.</span></span>
<span class="line">   <span class="token comment"># Set to a value such as 1000m; to restrict file size to a specific value</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">client_max_body_size</span> <span class="token number">0</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token comment"># Disable buffering</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">proxy_buffering</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">proxy_request_buffering</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">   <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> Host <span class="token variable">$http_host</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Real-IP <span class="token variable">$remote_addr</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Forwarded-Proto <span class="token variable">$scheme</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_connect_timeout</span> <span class="token number">300</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token comment"># Default is HTTP/1, keepalive is only enabled in HTTP/1.1</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_http_version</span> 1.1</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> Connection <span class="token string">&quot;&quot;</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">chunked_transfer_encoding</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_pass</span> http://minio_s3</span><span class="token punctuation">;</span> <span class="token comment"># This uses the upstream directive definition to load balance</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token directive"><span class="token keyword">server</span></span> <span class="token punctuation">{</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">listen</span>       <span class="token number">80</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">listen</span>  [::]:80</span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">server_name</span>  console.example.net</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">   <span class="token comment"># Allow special characters in headers</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">ignore_invalid_headers</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token comment"># Allow any size file to be uploaded.</span></span>
<span class="line">   <span class="token comment"># Set to a value such as 1000m; to restrict file size to a specific value</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">client_max_body_size</span> <span class="token number">0</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token comment"># Disable buffering</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">proxy_buffering</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line">   <span class="token directive"><span class="token keyword">proxy_request_buffering</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">   <span class="token directive"><span class="token keyword">location</span> /</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> Host <span class="token variable">$http_host</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Real-IP <span class="token variable">$remote_addr</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-Forwarded-Proto <span class="token variable">$scheme</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> X-NginX-Proxy true</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token comment"># This is necessary to pass the correct IP to be hashed</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">real_ip_header</span> X-Real-IP</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_connect_timeout</span> <span class="token number">300</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token comment"># To support websocket</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_http_version</span> 1.1</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> Upgrade <span class="token variable">$http_upgrade</span></span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_set_header</span> Connection <span class="token string">&quot;upgrade&quot;</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token directive"><span class="token keyword">chunked_transfer_encoding</span> <span class="token boolean">off</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">      <span class="token directive"><span class="token keyword">proxy_pass</span> http://minio_console/</span><span class="token punctuation">;</span> <span class="token comment"># This uses the upstream directive definition to load balance</span></span>
<span class="line">   <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,35)])])}const o=n(l,[["render",p]]),r=JSON.parse('{"path":"/services/minio.html","title":"MinIO","lang":"en-US","frontmatter":{},"git":{"updatedTime":1759871405000,"contributors":[{"name":"kelude","username":"kelude","email":"ikelude@gmail.com","commits":1,"url":"https://github.com/kelude"}],"changelog":[{"hash":"4b7cdfd68e7ec2c254e12d0bf06226dc9ede786e","time":1759871405000,"email":"ikelude@gmail.com","author":"kelude","message":"wip"}]},"filePathRelative":"services/minio.md"}');export{o as comp,r as data};
